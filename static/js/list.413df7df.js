(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["list"],{"151e":function(t,e,i){},"1a33":function(t,e,i){"use strict";i.r(e);var n,a=function(){var t=this,e=this,i=e.$createElement,n=e._self._c||i;return n("div",{staticClass:"list-wrapper"},[n("van-tabs",{attrs:{sticky:""},on:{click:e.switchActive},model:{value:e.active,callback:function(t){e.active=t},expression:"active"}},[e._l(e.activeList,(function(t,i){return[n("van-tab",{key:i,attrs:{title:t.title,name:t.name,dot:e.activeDot[t.name]}})]}))],2),n("scrollbar",[n("van-pull-refresh",{on:{refresh:e.onRefresh},model:{value:e.refreshing,callback:function(t){e.refreshing=t},expression:"refreshing"}},[n("van-list",{attrs:{error:e.error,finished:e.finished,"error-text":"请求失败，点击重新加载","finished-text":"没有更多了"},on:{"update:error":function(t){e.error=t},load:function(){return e.onLoad(t.active)}},model:{value:e.loading,callback:function(t){e.loading=t},expression:"loading"}},e._l(e.list,(function(t){return n("van-cell",{key:t.id,attrs:{title:t.title},on:{click:function(i){return e.goDetail(t)}}})})),1)],1)],1)],1)},r=[],o=i("5530"),s=i("ade3"),c=(i("93b0"),i("2bdd")),l=(i("4391"),i("58e6")),d=(i("8990"),i("5e46")),f=(i("558f"),i("0b33")),u=(i("b0c0"),i("a630"),i("3ca3"),i("2f62")),h={name:"List",components:(n={},Object(s["a"])(n,f["a"].name,f["a"]),Object(s["a"])(n,d["a"].name,d["a"]),Object(s["a"])(n,l["a"].name,l["a"]),Object(s["a"])(n,c["a"].name,c["a"]),n),data:function(){return{activeList:[{title:"已预约",name:"appointed"},{title:"已过期",name:"expired"},{title:"已取消",name:"cancelled"},{title:"全部",name:"all"}],active:"appointed",activeDot:{},list:[],error:!1,loading:!1,finished:!1,refreshing:!1}},computed:Object(o["a"])({},Object(u["b"])(["userInfo"])),watch:{},created:function(){console.log("list page"),this.getList()},methods:{switchActive:function(t,e){if(console.log(t,e),this.list=[],this.error=!1,this.loading=!0,this.finished=!1,this.refreshing=!1,"all"===t)return this.getList()},getList:function(){var t=this;this.loading=!0,setTimeout((function(){t.list=Array.from({length:100},(function(t,e){return{id:e+1,title:"订单".concat(e+1),active:["appointed","expired","cancelled"][(100-e)%3]}})),t.loading=!1}),2e3)},onLoad:function(t){var e=this;setTimeout((function(){e.refreshing&&(e.list=[],e.refreshing=!1);for(var i=0;i<20;i++){var n=e.list.length+1;e.list.push({id:n,title:"订单".concat(n)})}e.loading=!1,e.activeDot[t]=!0,e.list.length>=40&&(e.finished=!0)}),1e3)},onRefresh:function(){this.finished=!1,this.loading=!0,this.onLoad(this.active)},goDetail:function(t){this.$router.push({name:"Detail",params:{id:String(t.id)}})}}},v=h,g=(i("e532"),i("2877")),p=Object(g["a"])(v,a,r,!1,null,"dc492b44",null);e["default"]=p.exports},e532:function(t,e,i){"use strict";i("151e")}}]);